


Tú (el desarrollador)
│
├── Crea la aplicación CDK (`app`)
│
├── Crea una instancia de `LeadConversionFactory` (`lead_conversion_factory`)
│
├── Crea una instancia de `PipelineStack` (`lead_conversion_rate`), pasando `lead_conversion_factory`
│   │
│   └── `PipelineStack` almacena la fábrica (`self.factory = factory`)
│       │
│       └── Llama a `self.create_pipeline()`
│           │
│           ├── Crea una sesión de SageMaker (`sm_session`)
│           │
│           └── Utiliza la fábrica para crear el pipeline
│               │
│               └── `lead_conversion_factory.create(...)`
│                   │
│                   └── Crea y retorna un objeto `Pipeline`
│
└── De vuelta en `create_pipeline()`, `PipelineStack` crea un recurso de CloudFormation (`sm.CfnPipeline`)
    │
    └── CDK despliega el recurso en AWS cuando ejecutas `cdk deploy`
